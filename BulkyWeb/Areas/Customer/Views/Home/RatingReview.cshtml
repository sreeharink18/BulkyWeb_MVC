@model RatingReviewVM

<link href="https://cdn.jsdelivr.net/npm/mdb-ui-kit@3.11.0/dist/css/mdb.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/mdb-ui-kit@3.11.0/dist/js/mdb.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
    .stars input {
    position: absolute;
    left: -999999px;
}

.stars a {
    display: inline-block;
    font-size: 0;
    text-decoration: none;
}

.stars a:before {
    position: relative;
    font-size: 18px;
    font-family: 'FontAwesome', serif;
    display: block;
    content: "\f005";
    color: #9e9e9e;
}

.stars a:hover:before,
.stars a:hover ~ a:before,
.stars a.active:before,
.stars a.active ~ a:before {
    color: blue;
}

    .stars input {
        position: absolute;
        left: -999999px;
    }

    .stars a {
        display: inline-block;
        font-size: 0;
        text-decoration: none;
    }

        .stars a:before {
            position: relative;
            font-size: 18px;
            font-family: 'FontAwesome', serif;
            display: block;
            content: "\f005";
            color: #9e9e9e;
        }

        .stars a:hover:before,
        .stars a:hover ~ a:before,
        .stars a.active:before,
        .stars a.active ~ a:before {
            color: blue;
        }


</style>
<section>
    <div class="container" style="background-color : #e9e9e9a1">
        <div class="row " >
            @foreach(var obj in Model.RatingReviewAll)
            {
                <div class="row  ms-3 mt-4">
                    <div class="row col-md-4 ">
                        <div class="col-md-4 ">
                            <img class="rounded-5  mt-4" src="https://w7.pngwing.com/pngs/870/211/png-transparent-iphone-world-emoji-day-man-iphone-electronics-face-head.png" width="50px" />
                        </div>
                        <div class="col-md-8 mt-4 ">
                            <h6>@obj.Name</h6>

                           
                         <small class="text-muted">
                                <p class="text-warning">
                                    @for(int i = 0; i < obj.Rating; i++)
                                    {
                                        <i class=" fa-solid fa-star"></i>
                                    }
                                    @for(int j = 0; j < (5 - obj.Rating); j++)
                                    {
                                        <i class=" fa-regular fa-star"></i>
                                    }
                                </p>
                         </small>
                           
                      
                            <h6>@obj.TimeStamp</h6>
                        </div>
                    </div>
                    <div class="col-md-8  ">
                        <h5 class="p-3 mt-2">
                            @obj.Review
                        </h5>
                    </div>
                </div>
            }
          
           @*  <div class="row  ms-3 mt-4">
                <hr style="color:black" />
                <div class="row col-md-4 ">
                    <div class="col-md-4 ">
                        <img class="rounded-5  mt-4" src="https://w7.pngwing.com/pngs/870/211/png-transparent-iphone-world-emoji-day-man-iphone-electronics-face-head.png" width="50px" />
                    </div>
                    <div class="col-md-8 mt-4 ">
                        <h6>djkfakhdkf</h6>
                        <h6>djkhfkjhajkd</h6>
                        <h6>kaoidaeypwvna</h6>
                    </div>
                </div>
                <div class="col-md-8  ">
                    <h5 class="p-3 mt-2">
                        Comment jdkafajoifioajs shduifhaiu jlkju kklj ksoe lsio liso applyu atytempt attempt jkfhdjkhfjka kdjhnkj kljfkj dkljf lkj lkjjlkj
                        kfdkl;kls;lf dlkjlkfa dkdhkfpd djfojhcdc
                    </h5>
                </div>
            </div>
        </div> *@
        <div class ="row align-self-center m-5 container-fluid  mb-5 ">
            <div class="col-md-10 col-lg-8 col-xl-6">
                <hr />
               <form method="post">
                    <div class="card">
                        <div class="card-body p-4">
                            <div class="d-flex flex-start w-100">
                                <img class="rounded-circle shadow-1-strong me-3"
                                     src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(21).webp" alt="avatar" width="65"
                                     height="65" />
                                <div class="w-100">
                                    <h5>Add a comment</h5>
                                    <input asp-for="ProductId" id="ProductId" hidden />

                                    <input asp-for="RatingValue" name="ratingValue" id="RatingValue" hidden />
                                    <p class="text-warning">
                                        @*  <span>
                                        <a class="star-1" >1</a>
                                        <a class="star-2" >2</a>
                                        <a class="star-3" >3</a>
                                        <a class="star-4" >4</a>
                                        <a class="star-5" >5</a>
                                        </span> *@
                                        <i class="ratingStar fa-regular fa-star" data-value="1"></i>
                                        <i class="ratingStar fa-regular fa-star" data-value="2"></i>
                                        <i class="ratingStar fa-regular fa-star" data-value="3"></i>
                                        <i class="ratingStar fa-regular fa-star" data-value="4"></i>
                                        <i class="ratingStar fa-regular fa-star" data-value="5"></i>

                                    </p>

                                    <div class="form-outline">
                                        <textarea asp-for="Review" class="form-control" id="Review" rows="4"></textarea>
                                        <label class="form-label" for="textAreaExample">What is your view?</label>
                                    </div>
                                    <div class="d-flex justify-content-between mt-3">
                                        <button type="button" class="btn btn-success">Danger</button>
                                        <button type="submit" class="btn btn-danger" >
                                            Send <i class="fas fa-long-arrow-alt-right ms-1"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>


<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mdb-ui-kit@3.11.0/dist/js/mdb.min.js"></script>
@section Scripts{
    <script>

        var ratingStarValue = 1;
        $(document).ready(function () {
            
            $(".ratingStar").hover(function () {
                $(".ratingStar").addClass("fa-regular").removeClass("fa-solid");

                $(this).addClass("fa-solid").removeClass("fa-regular");
                $(this).prevAll(".ratingStar").addClass("fa-solid").removeClass("fa-regular");
            });
            $(".ratingStar").click(function () {
                var starValue = $(this).attr("data-value");

                ratingStarValue = starValue;
                $("#RatingValue").val(starValue);
            });
           

        });
    </script>
   @*  <script>
        function submitData() {
            var data = $("#DataForm").serialize();
            console.log("......" + data);
            console.log($("#ProductId").val()); // Correct way to get value of hidden input with ID "ProductId"
            console.log($(".RatingValue").val()); // Correct way to get value of hidden input with class "RatingValue"

            var url = "/Customer/Home/RatingReview";
            $.ajax({
                type: 'POST',
                url: url,
                contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
                data: data,
                success: function (result) {
                    alert('Successfully received Data ');
                    console.log(`Result in ajax`, result);
                },
                error: function () {
                    alert('Failed to receive the Data');
                    console.log('Failed ');
                }
            });
        }

    </script> *@

}